'use strict';Object.defineProperty(exports,'__esModule',{value:true});const cli_logger_1=require('./app/cli/cli.logger');const app_1=require('./app/app');const cli_commander_1=require('./app/cli/cli.commander');const fs=require('fs');class Main{readConfig(){let result={port:8080};let configFile=__dirname+'/app.config.json';cli_logger_1.Logger.logPurple('Reading config file ::',configFile);try{if(fs.existsSync(configFile)){let contents=fs.readFileSync(configFile,'utf8');result=JSON.parse(contents);}}catch(ex){cli_logger_1.Logger.logError('Error parsing config file ::',ex);}return result;}run(){try{let config=this.readConfig();this.zappy=new app_1.ZapApp(config.port,this.debugMode);return true;}catch(err){cli_logger_1.Logger.logError('Run Failed ::',err);return false;}}}exports.Main=Main;let main=new Main();if(cli_commander_1.CliCommander.first('debug')){console.log('OUTSIDE CODE EXECUTING');main.debugMode=true;}main.run();