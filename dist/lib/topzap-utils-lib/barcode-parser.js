'use strict';Object.defineProperty(exports,'__esModule',{value:true});const pstr_utils_1=require('../putte-ts/pstr-utils');class BarcodeParser{static prepZeroToLength(input,length){let result='';if(input.length<length){let paddNum=length-input.length;let paddStr='';for(let i=0;i<paddNum;i++){paddStr+='0';}result=paddStr+input;}else{return input;}return result;}static prepEan13Code(input,strict=false){if(strict&&!(input.match(/^[0-9]+$/)!=null)){return pstr_utils_1.PStrUtils.fillChar('0',13);}else{return BarcodeParser.prepZeroToLength(input,13);}}validateEan(eanCode){let validChars=eanCode.match(/^[0-9]+$/)!=null;if(eanCode.length==8){eanCode=BarcodeParser.prepEan13Code(eanCode);}else if(eanCode.length!=13){return false;}let originalCheck=eanCode.substring(eanCode.length-1);eanCode=eanCode.substring(0,eanCode.length-1);let even=Number(eanCode.charAt(1))+Number(eanCode.charAt(3))+Number(eanCode.charAt(5))+Number(eanCode.charAt(7))+Number(eanCode.charAt(9))+Number(eanCode.charAt(11));even*=3;let odd=Number(eanCode.charAt(0))+Number(eanCode.charAt(2))+Number(eanCode.charAt(4))+Number(eanCode.charAt(6))+Number(eanCode.charAt(8))+Number(eanCode.charAt(10));let total=even+odd;let checksum=total%10;if(checksum!=0){checksum=10-checksum;}return checksum==Number(originalCheck);}}exports.BarcodeParser=BarcodeParser;